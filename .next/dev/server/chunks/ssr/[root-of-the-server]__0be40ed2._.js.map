{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/walle/Desktop/instagram-content-ki/frontend/pages/index.js"],"sourcesContent":["import { useState } from \"react\";\n\nexport default function Home() {\n  const [file, setFile] = useState(null);\n  const [topPosts, setTopPosts] = useState([]);\n  const [suggestions, setSuggestions] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleFile = (e) => setFile(e.target.files[0]);\n\n  const uploadFile = async () => {\n    if (!file) return alert(\"Bitte Datei auswählen!\");\n    const formData = new FormData();\n    formData.append(\"file\", file);\n\n    try {\n      const res = await fetch(\"http://localhost:5000/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      const data = await res.json();\n\n      if (data.error) {\n        alert(`Fehler: ${data.error}`);\n        console.error(data.details);\n        return;\n      }\n\n      setTopPosts(data);\n      setSuggestions(\"\");\n    } catch (err) {\n      console.error(err);\n      alert(\"Fehler beim Hochladen der Datei\");\n    }\n  };\n\n  const generateContent = async () => {\n    if (!topPosts || topPosts.length === 0) return alert(\"Keine Daten zum Generieren\");\n\n    setLoading(true);\n    try {\n      const res = await fetch(\"http://localhost:5000/generate\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ topPosts }),\n      });\n\n      const data = await res.json();\n\n      if (data.error) {\n        alert(`Fehler: ${data.error}`);\n        console.error(data.details);\n        return;\n      }\n\n      setSuggestions(data.suggestions);\n    } catch (err) {\n      console.error(err);\n      alert(\"Fehler beim Generieren der Vorschläge\");\n    }\n    setLoading(false);\n  };\n\n  // CSV Export\n  const exportCSV = () => {\n    if (!topPosts || topPosts.length === 0) return alert(\"Keine Daten zum Exportieren\");\n    \n    const csvContent =\n      Object.keys(topPosts[0]).join(\",\") + \"\\n\" +\n      topPosts.map(row => Object.values(row).join(\",\")).join(\"\\n\");\n    \n    const blob = new Blob([csvContent], { type: \"text/csv;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", \"posts.csv\");\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Vorschläge Export\n  const exportSuggestions = () => {\n    if (!suggestions) return alert(\"Keine Vorschläge zum Exportieren\");\n\n    const blob = new Blob([suggestions], { type: \"text/plain;charset=utf-8;\" });\n    const url = URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", \"suggestions.txt\");\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  return (\n    <div style={{ padding: 30, fontFamily: \"Arial\" }}>\n      <h1>Content Creator Dashboard</h1>\n\n      <input\n        type=\"file\"\n        accept=\".csv,application/json\"\n        onChange={handleFile}\n      />\n      <button onClick={uploadFile} style={{ marginLeft: 10 }}>\n        Posts importieren\n      </button>\n\n      {topPosts.length > 0 && (\n        <>\n          <h3>Posts</h3>\n          <table border=\"1\" cellPadding=\"5\">\n            <thead>\n              <tr>\n                {Object.keys(topPosts[0]).map((col) => (\n                  <th key={col}>{col}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {topPosts.map((row, i) => (\n                <tr key={i}>\n                  {Object.keys(row).map((col) => (\n                    <td key={col}>{row[col]}</td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n\n          <div style={{ marginTop: 20 }}>\n            <button onClick={generateContent} style={{ padding: \"8px 14px\" }}>\n              Vorschläge generieren\n            </button>\n            <button onClick={exportCSV} style={{ marginLeft: 10 }}>CSV exportieren</button>\n            <button onClick={exportSuggestions} style={{ marginLeft: 10 }}>Vorschläge exportieren</button>\n          </div>\n\n          {loading && <p>KI Vorschläge werden generiert… Bitte warten.</p>}\n        </>\n      )}\n\n      {suggestions && (\n        <div style={{ marginTop: 20 }}>\n          <h3>KI Vorschläge</h3>\n          <pre style={{ background: \"#eee\", padding: 20, whiteSpace: \"pre-wrap\" }}>\n            {suggestions}\n          </pre>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}